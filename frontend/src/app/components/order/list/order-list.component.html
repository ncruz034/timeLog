
<div class="card">
  <div class="card-body">
      <h1><i class="fas fa-plus-circle pointerCursor" routerLink="/orders/create"></i></h1>
      <form>
          <div class="form-group form-inline">
              Orders search: <input class="form-control ml-2" placeholder=" . . . " type="text" name="orderSearch" [(ngModel)]="searchTerm"/>
          </div>
      </form>

      <div *ngFor="let order of filteredOrders; let i = index;" >
          <zippy title="{{order.orderNumber}}">
              <table class="table table-hover">
                  <tr>
                    <th>Project</th>
                    <th>Description</th>
                    <th>status</th>
                    <th>Actions</th>
                  </tr>
                  <tr>
                    <td>{{order.projectName}}</td>
                    <td>{{order.description}}</td>
                    <td>{{order.status}}</td>
                    <td>
                        <button (click) = "editOrder(order._id)" class="btn btn-primary"><i class="fas fa-edit"></i></button>
                        <button (click) = "addTime(order._id, order.projectName, order.clientName, order.orderNumber)" class="btn btn-info"><i class="fas fa-hourglass-start"></i></button>
                        <button (click) = "deleteOrder(order._id)" class="btn btn-danger"><i class="fas fa-trash-alt"></i></button>
                    </td>
                  </tr>
                </table>
                <div *ngIf="toggleAddTime">
                    <app-time-create></app-time-create>
                </div >
                <h3>Time</h3>
                <div class="card">
                  <div class="card-body">
                  <table class="table table-striped table-dark table-bordered table-sm" >
                    <tr>
                      <th>Date</th>
                      <th>User</th>
                      <th>Description</th>
                      <th>Time</th>
                      <th>Actions</th>
                    </tr>

                    <tr *ngFor="let time of order.time">
                      <td>{{time.date | date}}</td>
                      <td>{{time.user}}</td>
                      <td>{{time.description}}</td>
                      <td>{{time.time}}</td>
                      <td>
                          <button (click) = "editOrder(order._id)" class="btn btn-primary"><i class="fas fa-edit"></i></button>
                          <button (click) = "deleteOrder(order._id)" class="btn btn-danger"><i class="fas fa-trash-alt"></i></button>
                      </td>
                    </tr>
                  </table>

                </div>
              </div>
          </zippy>
          </div>
  </div>
</div>
